{"swagger":"2.0",
 "info":{"description":"Administrate and operate all tasks on your features through this api","version":"1.3.5",
"title":"FF4J (ff4j.org) WebAPI","contact":{"name":"@clunven"},
"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},
"host":"localhost:8080","basePath":"/api","tags":[{"name":"ff4jstorefeatures{uid}"},{"name":"ff4j"},{"name":"ff4jstore"},{"name":"ff4jstoregroups{groupName}"},{"name":"ff4jmonitoring"}],"schemes":["http"],"paths":{"/ff4j":{"get":{"tags":["ff4j"],"summary":"Display <b>ff4j</b> status overview","description":"Display informations related to <b>Monitoring</b>, <b>Security</b>, <b>Cache</b> and <b>Store</b>","operationId":"getStatus","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Success, return status of ff4j instance","schema":{"$ref":"#/definitions/ff4jStatus"}}}}},"/ff4j/check/{uid}":{"get":{"tags":["ff4j"],"summary":"<b>Simple check</b> feature toggle","description":"","operationId":"check","produces":["text/plain"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"if feature is flipped"},"404":{"description":"feature has not been found"}}},"post":{"tags":["ff4j"],"summary":"<b>Advanced check</b> feature toggle (parameterized)","description":"","operationId":"checkPOST","consumes":["application/x-www-form-urlencoded"],"produces":["text/plain"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"if feature is flipped"}}}},"/ff4j/monitoring":{"get":{"tags":["ff4jmonitoring"],"summary":"Display <b>Monitoring</b> information for <b><u>all</u></b> features","description":"The <b>EventRepository</b> handle to store audit events is not required","operationId":"getMonitoringStatus","produces":["application/json"],"parameters":[{"name":"start","in":"query","description":"Start of window <br>(default is today 00:00)","required":false,"type":"integer","format":"int64"},{"name":"end","in":"query","description":"End  of window <br>(default is tomorrow 00:00)","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Status of event repository bean","schema":{"$ref":"#/definitions/eventRepositoryApiBean"}},"404":{"description":"No event repository defined","schema":{"type":"string"}}}}},"/ff4j/monitoring/{uid}":{"get":{"tags":["ff4jmonitoring"],"summary":"Display <b>Monitoring</b> for a <b><u>single</u></b> feature","description":"Each feature will display a pieChart and a barChart for hits","operationId":"getFeatureMonitoring","produces":["application/json"],"parameters":[{"name":"uid","in":"path","description":"Unique identifier of feature","required":true,"type":"string"},{"name":"start","in":"query","description":"Start of window <br>(default is today 00:00)","required":false,"type":"integer","format":"int64"},{"name":"end","in":"query","description":"End  of window <br>(default is tomorrow 00:00)","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Status of current ff4j monitoring bean","schema":{"$ref":"#/definitions/FeatureMonitoringApiBean"}},"404":{"description":"Feature not found","schema":{"type":"string"}}}}},"/ff4j/security":{"get":{"tags":["ff4j"],"summary":"Display <b>Security</b> informations (permissions manager)","description":"Security is implemented through dedicated <b>AuthorizationsManager</b> but it's not mandatory","operationId":"getSecurityStatus","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Status of current ff4j security bean","schema":{"$ref":"#/definitions/authorization"}},"404":{"description":"No security defined, no response"}}}},"/ff4j/store":{"get":{"tags":["ff4jstore"],"summary":"Display information regarding to <b>Features</b>","description":"other sub resources to be displayed","operationId":"get","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"status of current ff4j bean"}}}},"/ff4j/store/cache":{"get":{"tags":["ff4jstore"],"summary":"Display information related to <b>Cache</b>","description":"","operationId":"getStatus","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"status of current ff4j monitoring bean","schema":{"$ref":"#/definitions/cacheApiBean"}},"404":{"description":"no cache content provided"}}},"post":{"tags":["ff4jstore"],"summary":"Clear Cache","description":"","operationId":"clear","produces":["text/plain"],"parameters":[],"responses":{"200":{"description":"cache is cleard"},"404":{"description":"no cache content provided"}}}},"/ff4j/store/features":{"get":{"tags":["ff4jstore"],"summary":"Display information regarding <b>Features</b>","description":"","operationId":"readFeatures","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"get all features"}}}},"/ff4j/store/features/{uid}":{"get":{"tags":["ff4jstorefeatures{uid}"],"summary":"Read information about a feature","description":"","operationId":"read","produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Information about features"},"404":{"description":"Feature not found"}}},"put":{"tags":["ff4jstorefeatures{uid}"],"summary":"Create of update a feature","description":"","operationId":"upsertFeature","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"},{"in":"body","name":"body","required":false,"schema":{"$ref":"#/definitions/featureApiBean"}}],"responses":{"201":{"description":"Feature has been created"},"204":{"description":"No content, feature is updated"}}},"delete":{"tags":["ff4jstorefeatures{uid}"],"summary":"Delete a feature","description":"","operationId":"deleteFeature","produces":["text/plain"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"}],"responses":{"400":{"description":"Bad identifier"},"204":{"description":"No content, feature is deleted"},"404":{"description":"Feature has not been found"}}}},"/ff4j/store/features/{uid}/addGroup/{groupName}":{"post":{"tags":["ff4jstorefeatures{uid}"],"summary":"Define the group of the feature","description":"","operationId":"operationAddGroup","produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"},{"name":"groupName","in":"path","required":true,"type":"string"}],"responses":{"400":{"description":"Invalid GroupName"},"204":{"description":"Group has been defined"},"404":{"description":"Feature not found"}}}},"/ff4j/store/features/{uid}/disable":{"post":{"tags":["ff4jstorefeatures{uid}"],"summary":"Disable a feature","description":"","operationId":"operationDisable","produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"Features has been disabled"},"404":{"description":"Feature not found"}}}},"/ff4j/store/features/{uid}/enable":{"post":{"tags":["ff4jstorefeatures{uid}"],"summary":"Enable a feature","description":"","operationId":"operationEnable","produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"Features has been enabled"},"404":{"description":"Feature not found"}}}},"/ff4j/store/features/{uid}/grantrole/{role}":{"post":{"tags":["ff4jstorefeatures{uid}"],"summary":"Grant a permission on a feature","description":"","operationId":"operationGrantRole","produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"},{"name":"role","in":"path","required":true,"type":"string"}],"responses":{"400":{"description":"Invalid RoleName"},"204":{"description":"Permission has been granted"},"404":{"description":"Feature not found"}}}},"/ff4j/store/features/{uid}/removeGroup/{groupName}":{"post":{"tags":["ff4jstorefeatures{uid}"],"summary":"Remove the group of the feature","description":"","operationId":"operationRemoveGroup","produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"},{"name":"groupName","in":"path","required":true,"type":"string"}],"responses":{"400":{"description":"Invalid GroupName"},"204":{"description":"Group has been removed"},"404":{"description":"Feature not found"}}}},"/ff4j/store/features/{uid}/removerole/{role}":{"post":{"tags":["ff4jstorefeatures{uid}"],"summary":"Remove a permission on a feature","description":"","operationId":"operationRemoveRole","produces":["application/json"],"parameters":[{"name":"uid","in":"path","required":true,"type":"string"},{"name":"role","in":"path","required":true,"type":"string"}],"responses":{"400":{"description":"Invalid RoleName"},"204":{"description":"Permission has been granted"},"404":{"description":"Feature not found"}}}},"/ff4j/store/groups":{"get":{"tags":["ff4jstore"],"summary":"Display information regarding <b>Groups</b>","description":"","operationId":"readGroups","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Groups resource","schema":{"$ref":"#/definitions/groupDescApiBean"}}}}},"/ff4j/store/groups/{groupName}":{"get":{"tags":["ff4jstoregroups{groupName}"],"summary":"Read information about a group","description":"","operationId":"read","produces":["application/json"],"parameters":[{"name":"groupName","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Information about target group"},"404":{"description":"Group not found"}}}},"/ff4j/store/groups/{groupName}/disable":{"post":{"tags":["ff4jstoregroups{groupName}"],"summary":"Disable a group","description":"","operationId":"operationDisableGroup","produces":["application/json"],"parameters":[{"name":"groupName","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"Group has been disabled"}}}},"/ff4j/store/groups/{groupName}/enable":{"post":{"tags":["ff4jstoregroups{groupName}"],"summary":"Enable a group","description":"","operationId":"operationEnable","produces":["application/json"],"parameters":[{"name":"groupName","in":"path","required":true,"type":"string"}],"responses":{"204":{"description":"Group has been updated"}}}}},"definitions":{"FeatureMonitoringApiBean":{"type":"object","required":["barChart","eventsPie","featureName","hitCount"],"properties":{"featureName":{"type":"string","description":"name of feature"},"hitCount":{"type":"integer","format":"int32","description":"total hit of the monitoring"},"eventsPie":{"description":"pie of features","$ref":"#/definitions/pieChart"},"barChart":{"description":"barChart for activity","$ref":"#/definitions/barChart"}},"description":"monitoring data of dedicated feature"},"ff4jStatus":{"type":"object","required":["autocreate","featuresStore","uptime","version"],"properties":{"uptime":{"type":"string","description":"uptime of the application"},"autocreate":{"type":"boolean","description":"feature are created if not exist in store","default":false},"version":{"type":"string","description":"current version of ff4j library"},"featuresStore":{"description":"feature store resource representation","$ref":"#/definitions/featureStoreApiBean"},"eventRepository":{"description":"event repository resource representation","$ref":"#/definitions/eventRepositoryApiBean"},"authorizationsManager":{"description":"authorization manager resource representation","$ref":"#/definitions/authorization"}},"description":"ff4j resource representation"},"flippingStrategyApiBean":{"type":"object","required":["type"],"properties":{"type":{"type":"string","description":"implementation class"},"initParams":{"type":"object","description":"init parameters","additionalProperties":{"type":"string"}}},"description":"ff4j resource representation"},"eventRepositoryApiBean":{"type":"object","required":["barChart","eventsPie","hitCount","type"],"properties":{"type":{"type":"string","description":"type of the repository"},"hitCount":{"type":"integer","format":"int32","description":"total hit of the monitoring"},"eventsPie":{"description":"pie of features","$ref":"#/definitions/pieChart"},"barChart":{"description":"barChart for activity","$ref":"#/definitions/barChart"}},"description":"resource representation of monitoring resources"},"featureApiBean":{"type":"object","required":["enable","uid"],"properties":{"uid":{"type":"string","description":"unique feature identifier"},"enable":{"type":"boolean","description":"status of feature","default":false},"description":{"type":"string","description":"description of feature"},"group":{"type":"string","description":"Group of the feature if exists, it's single"},"permissions":{"type":"array","description":"Role and profiles authorized on feature","items":{"type":"string"}},"flippingStrategy":{"description":"Flipping strategy if exist","$ref":"#/definitions/flippingStrategyApiBean"}},"description":"Representation of a feature"},"cacheApiBean":{"type":"object","properties":{"cacheProvider":{"type":"string","description":"if a cachestore is defined"},"cacheStore":{"type":"string","description":"if a cachestore is defined"},"featureNames":{"type":"array","description":"list of features within cache","uniqueItems":true,"items":{"type":"string"}}},"description":"cache resource representation"},"groupDescApiBean":{"type":"object","required":["features","groupName"],"properties":{"groupName":{"type":"string","description":"name of current group"},"features":{"type":"array","description":"name of current group","items":{"type":"string"}}},"description":"Description of a group"},"authorization":{"type":"object","properties":{"type":{"type":"string"},"permissions":{"type":"array","items":{"type":"string"}}},"description":"resource representation of a security"},"barChart":{"type":"object","properties":{"title":{"type":"string","description":"title of the graph"},"labels":{"type":"array","description":"labels of the graph","items":{"type":"string"}},"series":{"type":"array","description":"series of the graph","items":{"$ref":"#/definitions/barSeries"}}},"description":"resource representation of a bar chart"},"pieSector":{"type":"object","properties":{"label":{"type":"string","description":"label for this sector"},"value":{"type":"number","format":"double","description":"target value"},"color":{"type":"string","description":"target color"}},"description":"resource representation of a pie sector"},"barSeries":{"type":"object","properties":{"label":{"type":"string","description":"label for this sebar series"},"color":{"type":"string","description":"target color"},"values":{"type":"array","description":"target values","items":{"type":"number","format":"double"}}},"description":"resource representation of a bar series"},"pieChart":{"type":"object","properties":{"title":{"type":"string","description":"title of the graph"},"sectors":{"type":"array","description":"sectors of the pie graph","items":{"$ref":"#/definitions/pieSector"}}},"description":"resource representation of a pie chart"},"featureStoreApiBean":{"type":"object","required":["cache","features","groups","numberOfFeatures","numberOfGroups","type"],"properties":{"type":{"type":"string","description":"classname of implementation"},"numberOfFeatures":{"type":"integer","format":"int32","description":"number of features"},"numberOfGroups":{"type":"integer","format":"int32","description":"number of group"},"features":{"type":"array","description":"list of features","items":{"type":"string"}},"groups":{"type":"array","description":"list of group","items":{"type":"string"}},"cache":{"description":"if a cachestore is defined","$ref":"#/definitions/cacheApiBean"}},
"description":"store resource representation"}}}